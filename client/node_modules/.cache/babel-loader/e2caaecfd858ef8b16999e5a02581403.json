{"ast":null,"code":"import _classCallCheck from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tamara/Documents/scatterplot/client/src/App/Legend/Legend.js\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nvar Legend =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Legend, _Component);\n\n  function Legend(props) {\n    var _this;\n\n    _classCallCheck(this, Legend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Legend).call(this, props));\n    _this.groupRef = React.createRef();\n    _this.xPos = 40;\n    _this.yPos = 20;\n    return _this;\n  }\n\n  _createClass(Legend, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawLegend();\n    }\n    /**\n     * @param {string} dataName\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(dataName) {\n      var dataVis = d3.select(\".group__\".concat(dataName));\n\n      if (+dataVis.attr(\"opacity\") === 0) {\n        dataVis.attr(\"opacity\", 100);\n      } else {\n        dataVis.attr(\"opacity\", 0);\n      }\n    }\n  }, {\n    key: \"drawLegend\",\n    value: function drawLegend() {\n      var _this2 = this;\n\n      var legend = d3.select(this.groupRef.current);\n      var x = this.xPos;\n      Object.keys(this.props.datasets).forEach(function (key) {\n        var g = legend.append(\"g\").on(\"click\", _this2.onClick.bind(_this2, key));\n        g.attr(\"class\", \"legend\").append(\"circle\").attr(\"cx\", x).attr(\"cy\", _this2.yPos).attr(\"r\", 10).attr(\"fill\", _this2.props.datasets[key].color);\n        g.append(\"text\").attr(\"x\", x + 15).attr(\"y\", _this2.yPos).text(key).attr(\"alignment-baseline\", \"middle\");\n        x += 100;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"g\", {\n        ref: this.groupRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Legend;\n}(Component);\n\nexport default Legend;","map":{"version":3,"sources":["/Users/tamara/Documents/scatterplot/client/src/App/Legend/Legend.js"],"names":["React","Component","d3","Legend","props","groupRef","createRef","xPos","yPos","drawLegend","dataName","dataVis","select","attr","legend","current","x","Object","keys","datasets","forEach","key","g","append","on","onClick","bind","color","text"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;IAEMC,M;;;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AACA,UAAKC,QAAL,GAAgBL,KAAK,CAACM,SAAN,EAAhB;AACA,UAAKC,IAAL,GAAY,EAAZ;AACA,UAAKC,IAAL,GAAY,EAAZ;AAJiB;AAKlB;;;;wCAEmB;AAClB,WAAKC,UAAL;AACD;AAED;;;;;;4BAGQC,Q,EAAU;AAChB,UAAMC,OAAO,GAAGT,EAAE,CAACU,MAAH,mBAAqBF,QAArB,EAAhB;;AAEA,UAAI,CAACC,OAAO,CAACE,IAAR,WAAD,KAA6B,CAAjC,EAAoC;AAClCF,QAAAA,OAAO,CAACE,IAAR,YAAwB,GAAxB;AACD,OAFD,MAEO;AACLF,QAAAA,OAAO,CAACE,IAAR,YAAwB,CAAxB;AACD;AACF;;;iCAEY;AAAA;;AACX,UAAMC,MAAM,GAAGZ,EAAE,CAACU,MAAH,CAAU,KAAKP,QAAL,CAAcU,OAAxB,CAAf;AACA,UAAIC,CAAC,GAAG,KAAKT,IAAb;AAEAU,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKd,KAAL,CAAWe,QAAvB,EAAiCC,OAAjC,CAAyC,UAACC,GAAD,EAAS;AAChD,YAAMC,CAAC,GAAGR,MAAM,CAACS,MAAP,MACPC,EADO,UACK,MAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,MAAlB,EAAwBL,GAAxB,CADL,CAAV;AAEAC,QAAAA,CAAC,CAACT,IAAF,oBACGU,MADH,WAEGV,IAFH,OAEcG,CAFd,EAGGH,IAHH,OAGc,MAAI,CAACL,IAHnB,EAIGK,IAJH,MAIa,EAJb,EAKGA,IALH,SAKgB,MAAI,CAACT,KAAL,CAAWe,QAAX,CAAoBE,GAApB,EAAyBM,KALzC;AAOAL,QAAAA,CAAC,CAACC,MAAF,SACGV,IADH,MACaG,CAAC,GAAG,EADjB,EAEGH,IAFH,MAEa,MAAI,CAACL,IAFlB,EAGGoB,IAHH,CAGQP,GAHR,EAIGR,IAJH;AAMAG,QAAAA,CAAC,IAAI,GAAL;AACD,OAjBD;AAkBH;;;6BAEU;AACP,aACE;AAAG,QAAA,GAAG,EAAE,KAAKX,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAID;;;;EAtDkBJ,S;;AA0DrB,eAAeE,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nclass Legend extends Component {\n  constructor(props) {\n    super(props);\n    this.groupRef = React.createRef();\n    this.xPos = 40;\n    this.yPos = 20;\n  }\n\n  componentDidMount() {\n    this.drawLegend();\n  }\n\n  /**\n   * @param {string} dataName\n   */\n  onClick(dataName) {\n    const dataVis = d3.select(`.group__${dataName}`);\n\n    if (+dataVis.attr(`opacity`) === 0) {\n      dataVis.attr(`opacity`, 100);\n    } else {\n      dataVis.attr(`opacity`, 0);\n    }\n  }\n\n  drawLegend() {\n    const legend = d3.select(this.groupRef.current);\n    let x = this.xPos;\n\n    Object.keys(this.props.datasets).forEach((key) => {\n      const g = legend.append(`g`)\n        .on(`click`, this.onClick.bind(this, key));\n      g.attr(`class`, `legend`)\n        .append(`circle`)\n        .attr(`cx`, x)\n        .attr(`cy`, this.yPos)\n        .attr(`r`, 10)\n        .attr(`fill`, this.props.datasets[key].color);\n\n      g.append(`text`)\n        .attr(`x`, x + 15)\n        .attr(`y`, this.yPos)\n        .text(key)\n        .attr(`alignment-baseline`,`middle`);\n\n      x += 100;\n    });\n}\n\n  render() {\n    return (\n      <g ref={this.groupRef}>\n      </g>\n    );\n  }\n\n}\n\nexport default Legend;"]},"metadata":{},"sourceType":"module"}