{"ast":null,"code":"import _classCallCheck from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tamara/Documents/scatterplot/client/src/App/Legend/Legend.js\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nvar Legend =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Legend, _Component);\n\n  function Legend(props) {\n    var _this;\n\n    _classCallCheck(this, Legend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Legend).call(this, props));\n    _this.groupRef = React.createRef();\n    _this.xPos = 40;\n    _this.yPos = 20;\n    return _this;\n  }\n\n  _createClass(Legend, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawLegend();\n    }\n    /**\n     * @param {string} dataName\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(dataName) {\n      var dataVis = d3.select(\".group__\".concat(dataName));\n\n      if (+dataVis.attr(\"opacity\") === 0) {\n        dataVis.attr(\"opacity\", 100);\n      } else {\n        dataVis.attr(\"opacity\", 0);\n      }\n\n      console.log(dataVis);\n      dataVis = null;\n    }\n  }, {\n    key: \"drawLegend\",\n    value: function drawLegend() {\n      var _this2 = this;\n\n      var legend = d3.select(this.groupRef.current);\n      var x = this.xPos;\n      Object.keys(this.props.datasets).forEach(function (key) {\n        legend.append(\"g\").on(\"click\", _this2.onClick.bind(_this2, key)).attr(\"class\", \"legend\").append(\"circle\").attr(\"cx\", x).attr(\"cy\", _this2.yPos).attr(\"r\", 10).attr(\"fill\", _this2.props.datasets[key].color);\n        legend.append(\"text\").attr(\"x\", x + 15).attr(\"y\", _this2.yPos).text(key).attr(\"alignment-baseline\", \"middle\");\n        x += 100;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"g\", {\n        ref: this.groupRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Legend;\n}(Component);\n\nexport default Legend;","map":{"version":3,"sources":["/Users/tamara/Documents/scatterplot/client/src/App/Legend/Legend.js"],"names":["React","Component","d3","Legend","props","groupRef","createRef","xPos","yPos","drawLegend","dataName","dataVis","select","attr","console","log","legend","current","x","Object","keys","datasets","forEach","key","append","on","onClick","bind","color","text"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;IAEMC,M;;;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AACA,UAAKC,QAAL,GAAgBL,KAAK,CAACM,SAAN,EAAhB;AACA,UAAKC,IAAL,GAAY,EAAZ;AACA,UAAKC,IAAL,GAAY,EAAZ;AAJiB;AAKlB;;;;wCAEmB;AAClB,WAAKC,UAAL;AACD;AAED;;;;;;4BAGQC,Q,EAAU;AAChB,UAAIC,OAAO,GAAGT,EAAE,CAACU,MAAH,mBAAqBF,QAArB,EAAd;;AAEA,UAAI,CAACC,OAAO,CAACE,IAAR,WAAD,KAA6B,CAAjC,EAAoC;AAClCF,QAAAA,OAAO,CAACE,IAAR,YAAwB,GAAxB;AACD,OAFD,MAEO;AACLF,QAAAA,OAAO,CAACE,IAAR,YAAwB,CAAxB;AACD;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AAGAA,MAAAA,OAAO,GAAG,IAAV;AACD;;;iCAEY;AAAA;;AACX,UAAMK,MAAM,GAAGd,EAAE,CAACU,MAAH,CAAU,KAAKP,QAAL,CAAcY,OAAxB,CAAf;AACA,UAAIC,CAAC,GAAG,KAAKX,IAAb;AAEAY,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKhB,KAAL,CAAWiB,QAAvB,EAAiCC,OAAjC,CAAyC,UAACC,GAAD,EAAS;AAChDP,QAAAA,MAAM,CAACQ,MAAP,MACGC,EADH,UACe,MAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,MAAlB,EAAwBJ,GAAxB,CADf,EAEGV,IAFH,oBAGGW,MAHH,WAIGX,IAJH,OAIcK,CAJd,EAKGL,IALH,OAKc,MAAI,CAACL,IALnB,EAMGK,IANH,MAMa,EANb,EAOGA,IAPH,SAOgB,MAAI,CAACT,KAAL,CAAWiB,QAAX,CAAoBE,GAApB,EAAyBK,KAPzC;AASAZ,QAAAA,MAAM,CAACQ,MAAP,SACGX,IADH,MACaK,CAAC,GAAG,EADjB,EAEGL,IAFH,MAEa,MAAI,CAACL,IAFlB,EAGGqB,IAHH,CAGQN,GAHR,EAIGV,IAJH;AAMAK,QAAAA,CAAC,IAAI,GAAL;AACD,OAjBD;AAkBH;;;6BAEU;AACP,aACE;AAAG,QAAA,GAAG,EAAE,KAAKb,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAID;;;;EA1DkBJ,S;;AA8DrB,eAAeE,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nclass Legend extends Component {\n  constructor(props) {\n    super(props);\n    this.groupRef = React.createRef();\n    this.xPos = 40;\n    this.yPos = 20;\n  }\n\n  componentDidMount() {\n    this.drawLegend();\n  }\n\n  /**\n   * @param {string} dataName\n   */\n  onClick(dataName) {\n    let dataVis = d3.select(`.group__${dataName}`);\n\n    if (+dataVis.attr(`opacity`) === 0) {\n      dataVis.attr(`opacity`, 100);\n    } else {\n      dataVis.attr(`opacity`, 0);\n    }\n    console.log(dataVis);\n\n\n    dataVis = null;\n  }\n\n  drawLegend() {\n    const legend = d3.select(this.groupRef.current);\n    let x = this.xPos;\n\n    Object.keys(this.props.datasets).forEach((key) => {\n      legend.append(`g`)\n        .on(`click`, this.onClick.bind(this, key))\n        .attr(`class`, `legend`)\n        .append(`circle`)\n        .attr(`cx`, x)\n        .attr(`cy`, this.yPos)\n        .attr(`r`, 10)\n        .attr(`fill`, this.props.datasets[key].color);\n\n      legend.append(`text`)\n        .attr(`x`, x + 15)\n        .attr(`y`, this.yPos)\n        .text(key)\n        .attr(`alignment-baseline`,`middle`);\n\n      x += 100;\n    });\n}\n\n  render() {\n    return (\n      <g ref={this.groupRef}>\n      </g>\n    );\n  }\n\n}\n\nexport default Legend;"]},"metadata":{},"sourceType":"module"}