{"ast":null,"code":"import _classCallCheck from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tamara/Documents/scatterplot/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tamara/Documents/scatterplot/client/src/App/Legend/Legend.js\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport DataVisualisation from \"../DataVisualisation/DataVisualisation\";\n\nvar Legend =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Legend, _Component);\n\n  function Legend(props) {\n    var _this;\n\n    _classCallCheck(this, Legend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Legend).call(this, props));\n    _this.groupRef = React.createRef();\n    _this.xPos = 40;\n    _this.yPos = 20;\n    return _this;\n  }\n\n  _createClass(Legend, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawLegend();\n    }\n    /**\n     * @param {string} dataName\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(key) {\n      var group = d3.select(this.groupRef.current);\n      console.log(group.select(\".group__\".concat(key)));\n      var data = React.createElement(DataVisualisation, {\n        data: this.props.datasets[key].data,\n        scalesInstance: this.props.scalesInstance,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      });\n      group.append(data);\n    }\n  }, {\n    key: \"drawLegend\",\n    value: function drawLegend() {\n      var _this2 = this;\n\n      var legend = d3.select(this.groupRef.current);\n      var x = this.xPos;\n      Object.keys(this.props.datasets).forEach(function (key) {\n        var g = legend.append(\"g\").on(\"click\", _this2.onClick.bind(_this2, key));\n        g.attr(\"class\", \"legend\").append(\"circle\").attr(\"cx\", x).attr(\"cy\", _this2.yPos).attr(\"r\", 10).attr(\"fill\", _this2.props.datasets[key].color);\n        g.append(\"text\").attr(\"x\", x + 15).attr(\"y\", _this2.yPos).text(key).attr(\"alignment-baseline\", \"middle\");\n        x += 100;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"g\", {\n        ref: this.groupRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Legend;\n}(Component);\n\nexport default Legend;","map":{"version":3,"sources":["/Users/tamara/Documents/scatterplot/client/src/App/Legend/Legend.js"],"names":["React","Component","d3","DataVisualisation","Legend","props","groupRef","createRef","xPos","yPos","drawLegend","key","group","select","current","console","log","data","datasets","scalesInstance","append","legend","x","Object","keys","forEach","g","on","onClick","bind","attr","color","text"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,OAAOC,iBAAP,MAA8B,wCAA9B;;IAEMC,M;;;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AACA,UAAKC,QAAL,GAAgBN,KAAK,CAACO,SAAN,EAAhB;AACA,UAAKC,IAAL,GAAY,EAAZ;AACA,UAAKC,IAAL,GAAY,EAAZ;AAJiB;AAKlB;;;;wCAEmB;AAClB,WAAKC,UAAL;AACD;AAED;;;;;;4BAGQC,G,EAAK;AACX,UAAMC,KAAK,GAAGV,EAAE,CAACW,MAAH,CAAU,KAAKP,QAAL,CAAcQ,OAAxB,CAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACC,MAAN,mBAAwBF,GAAxB,EAAZ;AACA,UAAMM,IAAI,GAAG,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAE,KAAKZ,KAAL,CAAWa,QAAX,CAAoBP,GAApB,EAAyBM,IAAlD;AACX,QAAA,cAAc,EAAE,KAAKZ,KAAL,CAAWc,cADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAb;AAGAP,MAAAA,KAAK,CAACQ,MAAN,CAAaH,IAAb;AACD;;;iCAEY;AAAA;;AACX,UAAMI,MAAM,GAAGnB,EAAE,CAACW,MAAH,CAAU,KAAKP,QAAL,CAAcQ,OAAxB,CAAf;AACA,UAAIQ,CAAC,GAAG,KAAKd,IAAb;AAEAe,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKnB,KAAL,CAAWa,QAAvB,EAAiCO,OAAjC,CAAyC,UAACd,GAAD,EAAS;AAChD,YAAMe,CAAC,GAAGL,MAAM,CAACD,MAAP,MACPO,EADO,UACK,MAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,MAAlB,EAAwBlB,GAAxB,CADL,CAAV;AAEAe,QAAAA,CAAC,CAACI,IAAF,oBACGV,MADH,WAEGU,IAFH,OAEcR,CAFd,EAGGQ,IAHH,OAGc,MAAI,CAACrB,IAHnB,EAIGqB,IAJH,MAIa,EAJb,EAKGA,IALH,SAKgB,MAAI,CAACzB,KAAL,CAAWa,QAAX,CAAoBP,GAApB,EAAyBoB,KALzC;AAOAL,QAAAA,CAAC,CAACN,MAAF,SACGU,IADH,MACaR,CAAC,GAAG,EADjB,EAEGQ,IAFH,MAEa,MAAI,CAACrB,IAFlB,EAGGuB,IAHH,CAGQrB,GAHR,EAIGmB,IAJH;AAMAR,QAAAA,CAAC,IAAI,GAAL;AACD,OAjBD;AAkBH;;;6BAEU;AACP,aACE;AAAG,QAAA,GAAG,EAAE,KAAKhB,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAID;;;;EArDkBL,S;;AAyDrB,eAAeG,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport DataVisualisation from \"../DataVisualisation/DataVisualisation\";\n\nclass Legend extends Component {\n  constructor(props) {\n    super(props);\n    this.groupRef = React.createRef();\n    this.xPos = 40;\n    this.yPos = 20;\n  }\n\n  componentDidMount() {\n    this.drawLegend();\n  }\n\n  /**\n   * @param {string} dataName\n   */\n  onClick(key) {\n    const group = d3.select(this.groupRef.current);\n    console.log(group.select(`.group__${key}`))\n    const data = <DataVisualisation data={this.props.datasets[key].data}\n      scalesInstance={this.props.scalesInstance} />;\n\n    group.append(data);\n  }\n\n  drawLegend() {\n    const legend = d3.select(this.groupRef.current);\n    let x = this.xPos;\n\n    Object.keys(this.props.datasets).forEach((key) => {\n      const g = legend.append(`g`)\n        .on(`click`, this.onClick.bind(this, key));\n      g.attr(`class`, `legend`)\n        .append(`circle`)\n        .attr(`cx`, x)\n        .attr(`cy`, this.yPos)\n        .attr(`r`, 10)\n        .attr(`fill`, this.props.datasets[key].color);\n\n      g.append(`text`)\n        .attr(`x`, x + 15)\n        .attr(`y`, this.yPos)\n        .text(key)\n        .attr(`alignment-baseline`,`middle`);\n\n      x += 100;\n    });\n}\n\n  render() {\n    return (\n      <g ref={this.groupRef}>\n      </g>\n    );\n  }\n\n}\n\nexport default Legend;"]},"metadata":{},"sourceType":"module"}